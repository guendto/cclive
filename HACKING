
Howto: Contribute to the project
--------------------------------

Send patches to:
* cclive@googlegroups.com or legatvs@gmail.com (author)
* please use diff -u (unified format)


Howto: Add support for a new website
------------------------------------

  cclive internals
  ----------------

  cclive fetches the video page from the specified link, parses it
  looking for specific strings and constructs the video extraction
  link from these details. Additionally cclive parses video ID
  for file naming purposes.

  If the parsing returns the expected results, cclive then proceeds
  to download the video from the constructed video link.

  Hackalot
  --------

  Usually the hardest part is the figuring out how to extract the
  video from the website. Some websites see little reason to hide
  the video link, others can go great lengths trying to make it
  impossible.

  The easiest ones have their links visible in the video page HTML.
  See src/evisor.cpp for an example of this.

  Often the difficult ones can be figured out by analyzing the
  flash generated TCP traffic. See:
    http://code.google.com/p/clive/issues/detail?id=6

  The above obviously requires that you have access to a system
  capable of running flash which is not always possible.

  Whatever the case is, the following info summarizes how to add
  the support to the program once the details have been sorted out.

  Adding support to cclive
  ------------------------

  * src/hosthandler.h
    - add new $host specific class derived from the HostHandler class

  * src/hostfactory.h
    - add new $host specific enum to the list

  * src/hostfactory.cpp
    - add the new enum to createHandler(HandlerType) switch

  * src/$host.cpp
    - create implementation file for the $hostHandler class
    - for examples, see src/youtube.cpp, src/google.cpp etc.

  * src/Makefile.am
    - append $host.cpp to "host"

  * tests/$host.c
    - implement, see others for examples

  * tests/Makefile.am
    - append tests/$host.c to check_PROGRAMS
    - add $host_SOURCES

  Testing
  -------

  * make && ./src/cclive $test_link -n
    - you may need to run "autoreconf && ./configure" first

  * make check
    - to make sure the tests/$host.c works OK

  * see "howto: contribute" at the top of this file
